---
title: 確認とスラッシング
---

確認の進行状況はここで追跡できます

"https://github.com/solana-labs/solana/projects/52"

5 月末には、"mainnet-beta"が"1.1"に移行し、"testnet"が"1.2"に移行します。 "1.2"では、少なくとも"4.66%"以上のバリデータが悪意を持って行動していない限り、testnet は楽観的な最終性を持っているかのように振る舞います。 アプリケーションは、"ゴシップで観測された 2/3 以上の投票でブロックが確定するか"、"ネットワークの少なくとも 4.66%"がプロトコルに違反していると仮定することができます。

## どのように動作しますか？

一般的な考え方は、バリデータは自分の最後のフォークに続いて投票を続けなければならない、というものである。 バリデータがこの証明を構築する方法は、自分のフォークを除くすべてのフォークの投票を集めることです。 有効な投票の集合がエポックのステークキングの 1/3+X 以上を占めている場合、 バリデータの現在のフォークが 2/3+の最終状態に到達する方法はないかもしれません。 検証者は証明をハッシュ化して(証人を作って)、代替フォークへの投票と一緒に提出します。 しかし、2/3+が同じブロックに投票した場合、どの検証者もこの証明を作成することは不可能です。したがって、どの検証者もフォークを変更することはできず、このブロックは最終的に最終的なものとなります。

## トレードオフ

安全マージンは 1/3+X で、X はプロトコルに違反した場合に削減される賭け金の最小値を表しています。 トレードオフとして、最悪のケースでは生存率が 2 倍に減少します。 ネットワークの"1/3 ～ 2"倍以上が利用できない場合、ネットワークは失速する可能性があり、ネットワークが故障ノードの"1/3 ～ 2 倍"以下に回復して初めてブロックの最終処理が再開されます。 これまでのところ、"メインネット"、"コスモス"、"テゾス"では、大きなアンアベイラビリティヒットは観測されていません。 主に高可用性システムで構成されている私たちのネットワークでは、このようなことはあり得ないと思われます。 現在、私たちは閾値を"4.66%"に設定していますが、これは"23.68%"に障害が発生した場合、ネットワークがブロックの最終処理を停止する可能性があることを意味します。 主に高可用性システムで構成されている私たちのネットワークにとって、"23.68%"もの可用性の低下は考えられません。 "1:10^12"のオッズは、"4.7"%のステーキングを持つ"5 つ"のノードが"0.995"のアップタイムを持つと仮定したものです。

## セキュリティ

長期的な 1 スロットあたりの平均投票数は"670,000,000 票/12,000,000 スロット"、つまり 64 人の投票有効者のうち 55 人が投票しています。 これには、ブロックプロデューサの失敗によるブロックの欠落も含まれます。 クライアントが 55/64、つまり～ 86%のブロックを確認した場合、そのブロックが完全なファイナライズに失敗するためには、ネットワークの～ 24%また r `は(86 - 66.666..%がスラッシュされなければならないと予想できます。 + 4.666...)%` がスラッシュされなければならないと予想できます。

## なぜ Solana なのか?

このアプローチは他のネットワーク上で構築できます。しかし、私たちの投票の VDF ベースのタイムアウトがあるため、実装の複雑さは大幅に減少しました。 時間に関する仮定が弱いネットワークにおいて、スイッチング証明が簡単に構築できるかどうかは不明です。

## スラッシングロードマップ

スラッシングは難しい問題ですが、ネットワークの目標ができるだけ低いレイテンシーである場合には、さらに難しくなります。 レイテンシーを最適化する際には、トレードオフの関係が特に明らかになります。 例えば、理想的にはバリデーターはメモリがディスクに同期される前に投票して伝播させるべきですが、これではローカルな状態が破壊される危険性が高くなります。

基本的に、私たちのスラッシュの目標は、ノードが悪意を持って安全規則に違反しようとしている場合には 100%スラッシュし、通常の運用では 0%スラッシュすることです。 この目標を達成するために、まず、自動スラッシュを一切行わないスラッシュ証明を実装します。

今は、通常のコンセンサスの場合、安全性に違反した後、ネットワークが停止します。 そのデータを分析して、誰に責任があるのかを把握し、再起動後にステーキングを削減することを提案することができます。 同様のアプローチが"optimistic conf"でも使用されます。 "optimistic conf"の安全性違反は簡単に観察できますが、通常の状況では、"optimistic confirmation"の安全性違反はネットワークを停止させないかもしれません。 違反が観察されると、バリデーターは次のエポックで影響を受けたステーキングを凍結し、違反がスラッシュを必要とするかどうかを次のアップグレード時に決定します。

長期的には、楽観的安全性違反が証明された場合、トランザクションは切り捨てられた担保の一部を回収できるはずです。 このシナリオでは、各ブロックはネットワークによって効果的に保険がかけられていることになります。
