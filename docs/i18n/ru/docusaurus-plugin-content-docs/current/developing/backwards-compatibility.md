---
title: Политика обратной совместимости
---

По мере роста экосистемы Solana растет и потребность в четких ожиданиях в отношении API и изменений поведения, влияющих на приложения и инструменты, созданные для Solana. В идеальном мире разработка Solana могла бы продолжаться очень быстрыми темпами, не вызывая проблем у существующих разработчиков. Однако, необходимо будет пойти на некоторые компромиссы, и поэтому в этом документе делается попытка прояснить и систематизировать процесс для новых релизов.

### Ожидания

- Релизы программного обеспечения Solana включают в себя API, SDK и инструменты CLI (с несколькими [исключениями](#exceptions)).
- Релизы ПО Solana имеют семантическую нумерацию версий, детальнее о которой написано ниже.
- Программное обеспечение для `MINOR` версий всегда будет совместимо со всеми программами на одной `MAJOR` версии.

### Депрекация

1. В любом `PATCH` или `MINOR` релизе, функции, API, эндпоинты и т. д. могут быть отмечены как устаревшие - deprecated.
2. В зависимости от сложности обновления, некоторые функции останутся устаревшими в течение нескольких релиз-циклов.
3. В будущем `MAJOR` релизе, устаревшие функции будут удалены без сохранения обратной совместимости.

### Процесс выпуска релизов

RPC API, Rust SDK, инструменты CLI, и SDK программ BPF будут обновляться и поставляться вместе с каждым релизом Solana и всегда должны быть совместимы между `PATCH` обновлениями конкретной `MINOR` релиз-версии.

#### Ветки релизов

- `edge` ПО, которое содержит самые новые возможности без политики обратной совместимости
- `beta` ПО, которое работает на тестнет кластере Solana Tour de SOL
- `stable` ветка, ПО работающее на Solana Mainnet Beta и Devnet кластерах

#### Мажорные релизы (x.0.0)

`MAJOR` версии (например, 2.0.0) могут содержать критические изменения и удаленые ранее устаревшие функций. Клиентские SDK и остальные инструменты начнут использовать новые функции и эндпоинты, которые были включены в предыдущей версии `MAJOR`.

#### Минорные релизы (1.x.0)

Новые возможности и реализации предложений об улучшении добавляются в _новую_ `MINOR` версию релиза и обычно, в первую очередь, запускаются на тестнет кластере Solana's Tour de SOL. При работе в тестовой сети `MINOR` версии считаются находящимися в ветке `beta`. После внесения необходимых патчей и подтверждения их надежности версия `MINOR` будет обновлена до релиз-ветки `stable` и развернута в кластере Mainnet Beta.

#### Патч релизы (1.0.x)

Функции с низким уровнем риска, некритические изменения, а также исправления безопасности и ошибок поставляются как часть `PATCH` релизов (например, 1.0.11). Патч-релизы могут выпускаться на ветках `beta` и `stable`.

### RPC API

Патч релизы:

- Исправления багов
- Улучшения безопасности
- Эндпоинты / депрекация возможностей

Минорные релизы:

- Новые возможности и RPC эндпоинты

Мажорные релизы:

- Удаление устаревших функций

### Пакеты Rust

- [`solana-sdk`](https://docs.rs/solana-sdk/) - Rust SDK для создания транзакций и парсинга состояний аккаунтов
- [`solana-program`](https://docs.rs/solana-program/) - Rust SDK для написания программ
- [`solana-client`](https://docs.rs/solana-client/) - Rust client для работы с RPC API
- [`solana-cli-config`](https://docs.rs/solana-cli-config/) - Rust клиент для управления файлами конфигураций Solana CLI

Патч релизы:

- Исправления багов
- Улучшения безопасности
- Улучшение производительности

Минорные релизы:

- Новые API

Мажорные релизы

- Удаление устаревших APIs
- Изменения поведения без обратной совместимости

### Инструменты CLI

Патч релизы:

- Исправления ошибок и проблем с безопасностью
- Улучшение производительности
- Деприкация отдельных команд и аргументов

Минорные релизы:

- Новые команды

Мажорные релизы:

- Переход на новые RPC API эндпоинты / конфигурация, представленная в предыдущей основной версии.
- Удаление устаревших функций

### Возможности среды выполнения

Новые возможности среды выполнения Solana сводятся к переключению функций и ручной активации. Возможности среды выполнения включают: введение новых нативных программ, системных переменных и системных вызовов; и изменения в их поведении. Активация новых функций не зависит от кластера, что позволяет убедится в их работоспособности на тестовом кластере до активации в Mainnet-Beta.

Процесс выпуска обновлений:

1. Новые возмодности среды выполнения входят в каждый новый релиз, но отключены по-умолчанию
2. После обновления достаточного количества валидаторов до новой версии, необходимо вручную активировать новые возможности среды выполнения с помощью инструкции
3. Доступные возможности полностью активируются в начеле следующей эпохи

### Изменения инфраструктуры

#### Публичные API ноды

Solana предоставляет общедоступные RPC API ноды для использования всеми разработчиками. Команда Solana приложит максимум усилий, чтобы сообщать о любых изменениях хоста, порта, ограничений скорости и доступности, и т. д. Однако мы рекомендуем разработчикам полагаться на собственные ноды, чтобы избежать зависимости от узлов, находящихся под управлением Solana.

#### Локальные скрипты и образы Docker

Критические изменения будут ограничены `MAJOR` релизами. `MINOR` и `PATCH` обновления всегда должны быть обратно совместимы.

### Исключения

#### Web3 JavaScript API

SDK Web3.JS также следует спецификациям по семантическому версию, но поставляется отдельно от релизов Solana.

#### Векторы атаки

Если в существующем коде обнаруживается новый вектор атаки, указанные выше процессы могут быть проигнорированны чтобы быстро развернуть исправление, в зависимости от серьезности проблемы.
