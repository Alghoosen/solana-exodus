---
title: Структура Stake аккаунта
---

Stake аккаунт в Solana может быть использован для делегирования токенов валидаторам в сети, чтобы потенциально заработать вознаграждение владельцу stake аккаунта. Stake аккаунты создаются и управляются иначе, чем традиционный адрес кошелька, известный как _системный аккаунт_. Системная учетная запись может отправлять и получать SOL только от других учетных записей в сети, в то время как stake аккаунт поддерживает более сложные операции, необходимые для управления делегированием токенов.

Stake аккаунты в Solana работают иначе, чем у других сетей Proof-of-Stake сетях, с которыми вы можете быть знакомы. Этот документ описывает высокоуровневую структуру и функции stake аккаунтов Solana.

#### Адрес аккаунта

Каждая учетная запись имеет уникальный адрес, который может быть использован для поиска учетной записи в командной строке или в любых инструментах сетевого обозревателя. Однако, в отличие от адреса кошелька, в котором владелец ключа управляет кошельком, ключ, связанный с адресом stake аккаунта, не обязательно имеет контроль над аккаунтом. Фактически, сам ключ или приватный ключ могут даже не существовать для адреса stake аккаунта.

Единственным случаем, когда адрес stake аккаунта имеет файл ключей является [создание stake аккаунта с помощью инструментов командной строки](../cli/delegate-stake.md#create-a-stake-account), новый ключ создается только для того, чтобы удостовериться в том, что адрес stake аккаунта является новым и уникальным.

#### Описание Account Authorities

Некоторые типы аккаунтов могут иметь один или несколько _signing authorities_, связанных с данным аккаунтом. Account authority используется для подписания определенных транзакций для учетной записи, которую она контролирует. Это отличается от некоторых других блокчейн сетей, где владелец ключа, связанного с аккаунтом, контролирует все действия аккаунта.

В stake аккаунте есть два signing authorities, которые указаны их соответствующим адресом, каждый из которых имеет право выполнять определенные операции со stake аккаунтом.

_Stake authority_ используется для подписания транзакций для следующих операций:

- Делегирование стейка
- Деактивация стейка
- Разделение stake аккаунта и создание нового, с использованием части средств от первого аккаунта
- Объединение двух неделегированных stake аккаунтов в один
- Установка новых stake authority

_Withdraw authority_ используется для подписания транзакций для следующих операций:

- Вывод неделегированного стейка на адрес кошелька
- Установка новых withdraw authority
- Установка новых stake authority

Stake authority and withdraw authority устанавливаются при создании stake аккаунта и могут быть изменены для авторизации нового подписывающего адреса в любое время. Stake and withdraw authority может быть одним и тем же адресом или двумя разными.

Ключ withdraw authority имеет больший контроль над аккаунтом, поскольку он необходим для ликвидации токенов на stake аккаунте и может быть использован для сброса полномочий stake authority, если пара ключей stake authority была потеряна или скомпрометирована.

Защита withdraw authority от потери или кражи крайне важна при управлении stake аккаунтом.

#### Множественные делегации

Каждый stake аккаунт может быть использован только для делегирования одному валидатору. Все токены аккаунта могут быть либо делегированными, либо не делегированными. Или же находиться в процессе делегирования или разделегирования. Чтобы делегировать часть ваших токенов валидатору или делегировать нескольким валидаторам - вы должны создать несколько аккаунтов.

Это может быть достигнуто путем создания нескольких stake аккаунтов или путем создания одного крупного аккаунта и использования stake authority для разделения счета на несколько счетов с остатками токенов по вашему выбору.

Одни и те же полномочия по стейку и withdraw authorities могут быть назначены нескольким stake аккаунтам.

Два stake аккаунта, которые не делегированы и имеют одинаковые authorities и блокировку, могут быть объединены в один stake аккаунт.

#### Разогрев и остывание стейка

Когда stake аккаунт делегирован или наоборот деактивирован, то данная операция не вступает в силу немедленно.

Делегирование или деактивация требует несколько [эпох](../terminology.md#epoch) для завершения, так как только часть делегации становится активной или неактивной на границе каждой эпохи после транзакции, содержащей инструкции, необходимые для кластера.

Существует также ограничение на то, сколько всего стейка может быть делегировано или деактивировано в одной эпохе, чтобы предотвратить резкие изменения стейка в целом в сети. Поскольку разогрев и остывание зависят от поведения других участников сети - их точную продолжительность трудно предсказать. Подробности о разогреве и остывании можно найти [здесь](../cluster/stake-delegation-and-rewards.md#stake-warmup-cooldown-withdrawal).

#### Блокировка

Stake аккаунты могут иметь блокировку, которая предотвращает вывод токенов до определенной даты или эпохи. Во время блокировки stake аккаунт все еще может быть делегирован, разделегирован или разделен, а также его stake и withdraw authorities могут быть изменены как обычно. Только лишь вывод средств на адрес кошелька не допускается.

Блокировка может быть установлена только когда stake аккаунт создается в первый раз, но также может быть изменена позднее, в _lockup authority_ или _custodian_, адрес которого также устанавливается при создании учетной записи.

#### Ликвидация stake аккаунта

Как и другие типы аккаунтов в сети Solana, stake аккаунт, имеющей баланс 0 SOL, больше не отслеживаются. Если stake аккаунт не делегирован и все токены, которые он содержит, выводятся на адрес кошелька, аккаунт на этом адресе считается успешно ликвидированным и его нужно будет вручную создать для повторного использования адреса.

#### Просмотр stake аккаунтов

Детали stake аккаунта можно просмотреть в проводнике Solana, скопировав и вставив адрес аккаунта в строку поиска.

- http://explorer.solana.com/accounts
