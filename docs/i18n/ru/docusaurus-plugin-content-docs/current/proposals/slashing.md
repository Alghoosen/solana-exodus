---
title: Правила Снятия
---

В отличие от Proof of Work \ (PoW \), где капитальные затраты вне сети уже развернуты во время создания блока / голосования, системы PoS требуют риска капитала для предотвращения логической / оптимальной стратегии множественного цепного голосования. Мы намерены внедрить правила сокращения, которые в случае нарушения приводят к тому, что некоторая сумма депонированной ставки нарушившего валидатора будет удалена из обращения. Учитывая упорядочивающие свойства структуры данных PoH, мы считаем, что можем упростить наши правила сокращения до уровня времени блокировки голосования, назначаемого для каждого голоса.

То есть. С каждым голосованием связано время блокировки \ (длительность PoH \), которое представляет собой продолжительность любого дополнительного голосования от этого валидатора, которое должно быть в PoH, содержащем исходный голос, или часть ставки этого валидатора может быть снята. Это время зависит от начального количества голосов PoH и засчитываются все дополнительные голоса PoH. Скорее всего, он примет форму:

```text
Lockouti\(PoHi, PoHj\) = PoHj + K \* exp\(\(PoHj - PoHi\) / K\)
```

Где PoHi - это высота голоса, к которому будет применяться блокировка, а PoHj - это высота текущего голосования на том же форке. Если валидатор отправляет голосование по другому форку PoH на любом PoHk, где k &gt; j &gt;; i и PoHk &lt; Lockout\(PoHi, PoHj\), тогда часть ставки этого валидатора может быть снята.

В дополнение к функциональной блокировке формы, описанной выше, ранняя реализация может представлять собой численное приближение, основанное на структуре данных «первым пришел - первым вышел» (FIFO) и следующей логике:

- Очередь FIFO, содержащая 32 голоса на активный валидатор
- новые голоса помещаются в начало очереди \ (`push_front` \)
- голоса с истекшим сроком действия отображаются сверху \ (`pop_front` \)
- по мере того, как голоса помещаются в очередь, блокировка каждого голосования в очереди удваивается
- голоса удаляются из очереди, если `queue.len() > 32`
- самая ранняя и самая последняя высота, которая была удалена из задней части очереди, должна быть сохранена

Вполне вероятно, что вознаграждение будет предложено в виде% от сокращенной суммы любому узлу, который представит PoH доказательства нарушения этого условия сокращения.

### Частичное снятие

В схеме, описанной до сих пор, когда валидатор голосует за данный поток PoH, он фиксируется на этой вилке на время, определяемое блокировкой голосования. Открытый вопрос: не решатся ли валидаторы начать голосование за доступный форк, если штрафы будут восприниматься слишком суровыми за честную ошибку или перевернутый бит.

Одним из способов решения этой проблемы может быть частичное сокращение, которое приводит к уменьшению количества в зависимости от:

1. ставки валидаторов из общего пула валидаторов, которые также были сняты в течение того же периода времени \ (ala Casper \)
2. количество времени, прошедшее с момента голосования \ (например, линейно увеличивающийся% от общей суммы, внесенный в виде сокращаемой суммы с течением времени \), или и то, и другое.

Эта область в настоящее время исследуется.
