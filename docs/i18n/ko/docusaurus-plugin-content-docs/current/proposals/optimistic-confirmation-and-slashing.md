---
title: 낙관적 확인 및 슬래싱
---

낙관적 확인에 대한 진행 상황은 여기에서 추적 할 수 있습니다.

https://github.com/solana-labs/solana/projects/52

5 월 말 메인 넷 베타는 1.1로, 테스트 넷은 1.2로 이동합니다. 1.2에서 테스트 넷은 밸리데이터의 4.66 % 이상이 악의적으로 행동하는 한 낙관적 인 최종성을 가진 것처럼 작동합니다. 애플리케이션은 가십에서 관찰 된 2/3 이상의 투표가 블록을 확인하거나 네트워크의 4.66 % 이상이 프로토콜을 위반하고 있다고 가정 할 수 있습니다.

## 어떻게 작동하나요?

일반적인 아이디어는 밸리데이터가 현재 포크가 최종성에 도달하지 못할 수 있다는 증거를 구성 할 수없는 한, 밸리데이터은 마지막 포크 이후에 계속 투표해야한다는 것입니다. 밸리데이터가이 증명을 구성하는 방법은 자신을 제외한 모든 포크에 대한 투표를 수집하는 것입니다. 유효한 투표 세트가 epoch 지분 가중치의 1 / 3 + X 이상을 나타내는 경우 유효성 검사기 현재 포크가 2/3 이상의 최종성에 도달 할 수있는 방법이 없을 수 있습니다. 밸리데이터는 증명을 해시 (증인 생성)하고 대체 포크에 대한 투표와 함께 제출합니다. 그러나 동일한 블록에 대해 2/3 이상이 투표하면 밸리데이터이이 증명을 구성하는 것이 불가능하므로 밸리데이터이 포크를 전환 할 수 없으며이 블록은 최종적으로 완성됩니다.

## 트레이드 오프

안전 마진은 1 / 3 + X이며, 여기서 X는 프로토콜 위반시 삭감되는 최소 지분 금액을 나타냅니다. 단점은 최악의 경우 라이브 니스가 2 배 감소한다는 것입니다. 네트워크의 1/3-2X 이상을 사용할 수없는 경우 네트워크가 중단 될 수 있으며 네트워크가 실패한 노드의 1/3-2X 미만으로 복구 된 후에 만 ​​블록 마무리를 재개합니다. So far, we haven’t observed a large unavailability hit on our mainnet, cosmos, or tezos. 주로 고 가용성 시스템으로 구성된 우리 네트워크의 경우, 이는 가능성이 낮은 것 같습니다. 현재 임계 값 비율을 4.66 %로 설정했습니다. 즉, 23.68 %가 실패하면 네트워크가 블록 마무리를 중지 할 수 있습니다. 주로 고 가용성 시스템으로 구성된 우리 네트워크의 경우 가용성이 23.68 % 감소하는 것이 연관성이없는 것처럼 보입니다. 가동 시간이 0.995 인 4.7 % 스테이킹 노드 5 개를 가정하면 1 : 10 ^ 12 확률입니다.

## 보안

슬롯 당 장기 평균 투표 수는 670,000,000 개 / 12,000,000 개 슬롯 또는 64 개 투표 밸리데이터 중 55 개입니다. 여기에는 블록 생산자 실패로 인해 누락 된 블록이 포함됩니다. 클라이언트가 55/64 또는 ~ 86 %가 블록을 확인하는 것을 볼 때이 블록이 완전히 실패하려면 네트워크의 ~ 24 % 또는`(86-66.666 .. + 4.666 ..) %`가 슬래시되어야한다고 예상 할 수 있습니다. + 4.666..)%</code> of the network must be slashed for this block to fail full finalization.

## 왜 솔라나인가?

이 접근 방식은 다른 네트워크에서 구축 할 수 있지만, 우리의 투표에는 검증 가능한 VDF 기반 시간 제한이 있기 때문에 Solana에서 구현 복잡성이 크게 감소합니다. 시간에 대한 가정이 약한 네트워크에서 스위칭 증명을 쉽게 구성 할 수 있는지 여부는 명확하지 않습니다.

## 슬래싱 로드맵

슬래싱은 어려운 문제이며 네트워크의 목표가 지연 시간을 최소화하는 것이라면 더욱 어려워집니다. 트레이드 오프는 특히 지연 시간을 최적화 할 때 분명합니다. 예를 들어 이상적으로 유효성 검사기는 메모리가 디스크에 동기화되기 전에 투표를 전송하고 전파해야합니다. 이는 로컬 상태 손상의 위험이 훨씬 더 높다는 것을 의미합니다.

기본적으로 슬래싱의 목표는 노드가 악의적으로 안전 규칙을 위반하려는 경우 100 %, 일상적인 작업 중에는 0 %를 줄이는 것입니다. 이를 달성하는 방법은 자동 슬래싱없이 슬래싱 증명을 먼저 구현하는 것입니다.

지금은 정기 합의를 위해 안전 위반 이후 네트워크가 중단됩니다. 우리는 데이터를 분석하고 누가 책임을 졌는지 파악할 수 있으며 재시작 후 지분을 삭감해야한다고 제안 할 수 있습니다. ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ 비슷한 접근 방식이 낙관적 conf와 함께 사용됩니다. 낙관적 conf 안전 위반은 쉽게 관찰 할 수 있지만 정상적인 상황에서는 낙관적 확인 안전 위반이 네트워크를 중지하지 않을 수 있습니다. 위반이 관찰되면 밸리데이터은 다음 세대에 영향을받은 지분을 동결하고 위반에 슬래싱이 필요한 경우 다음 업그레이드를 결정할 것입니다.

장기적으로는 낙관적 안전 위반이 입증되면 거래에서 삭감하는 담보의 일부를 회수 할 수 있어야합니다. 이 시나리오에서 각 블록은 네트워크에 의해 효과적으로 보장됩니다.
