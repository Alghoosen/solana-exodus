---
title: Bankless Leader
---

은행이없는 리더는 유효한 블록을 생성하기 위해 최소한의 작업을 수행합니다. ㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ 리더는 인 그레스 트랜잭션, 유효한 트랜잭션 정렬 및 필터링, 항목으로 정렬, 항목 파쇄 및 파쇄를 브로드 캐스팅하는 작업을 수행합니다. 밸리데이터는 블록을 재 조립하고 잘 구성된 항목의 실행을 재생하기 만하면됩니다. 리더는 처리 된 트랜잭션 당 유효성 검사기보다 은행 실행 전에 3 배 더 많은 메모리 작업을 수행합니다.

## 근거

지출에 대한 정상적인 은행 운영은 2 번의로드와 2 번의 저장을 수행해야합니다. ㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ ㅇㅇㅇ 이 디자인 리더는 단 한 번의로드 만 수행합니다. 따라서 블록을 생성하기 전에 account_db가 4 배 더 적게 작동합니다. 저장소 작업은 읽기보다 비용이 더 많이 듭니다.

재생 단계가 동일한 트랜잭션 처리를 시작하면 역사증명가 유효하고 모든 항목이 병렬 실행에 안전하다고 가정 할 수 있습니다. 블록을 생성하기 위해로드 된 수수료 계정은 여전히 ​​메모리에있을 가능성이 높으므로 추가로드는 웜이되어야하며 비용은 상각 될 가능성이 높습니다.

## 수수료 계정

\[수수료 계정\] (../ terminology.md # fee_account)은 블록에 포함될 거래에 대해 지불합니다. 리더는 수수료 계정에 수수료를 지불 할 잔액이 있는지 확인하기 만하면됩니다.

## 균형 캐시

리더 연속 블록 기간 동안 리더는 처리 된 모든 수수료 계정에 대한 임시 잔액 캐시를 유지합니다. 캐시는 펍키와 램프 포트의 맵입니다.

첫 번째 블록이 시작될 때 잔액 캐시가 비어 있습니다. 마지막 블록이 끝나면 캐시가 삭제됩니다.

균형 캐시 조회는 캐시의 전체 기간 동안 동일한 기본 포크를 참조해야합니다. 블록 경계에서 캐시는 재생 단계가 이전 블록 확인을 마친 후 기본 포크와 함께 재설정 될 수 있습니다.

## 잔액 확인

잔액 확인 전에 리더는 거래의 모든 서명을 확인합니다.

1. 계정이 사용 중이 아니고 BlockHash가 유효한지 확인하십시오.
2. 수수료 계정이 캐시에 있는지 확인하거나 accounts_db에서 계정을로드하고 램프 잔액을 캐시에 저장합니다.
3. 잔액이 수수료보다 적 으면 거래를 취소합니다.
4. 잔액에서 수수료를 뺍니다.
5. 신용 차변이고 명령에 의해 참조되는 트랜잭션의 모든 키에 대해 캐시에서 잔액을 0으로 줄입니다. 계좌 수수료는 신용 직불로 선언되지만 어떤 지시에도 사용되지 않는 한 잔액은 0으로 줄어들지 않습니다.

## 리더 리플레이

리더는 표준 재생 단계 작업의 일부로 자신의 블록을 재생해야합니다.

## 연속 블록으로 리더 재생

리더는 연속으로 여러 블록을 생성하도록 예약 할 수 있습니다. 이 시나리오에서 리더는 첫 번째 블록의 재생 단계가 진행되는 동안 다음 블록을 생산할 가능성이 높습니다.

리더가 리플레이 단계를 완료하면이를 삭제하여 균형 캐시를 재설정하고 다음 블록에서 활성화 될 수있는 캐시의 기반으로 새 포크를 설정할 수 있습니다.

## 잔액 캐시 재설정

1. 블록 시작시 균형 캐시가 초기화되지 않은 경우 균형 캐시의 기본 포크를 블록의 부모로 설정하고 빈 캐시를 만듭니다.
2. 캐시가 초기화 된 경우 블록의 상위에 잔액 캐시에 대한 현재 기본 포크보다 새로운 새로운 고정 된 뱅크가 있는지 확인합니다.
3. 캐시의 기본 포크보다 더 새로운 부모가있는 경우 캐시를 부모로 재설정합니다.

## 클라이언트에 미치는 영향

동일한 수수료 계정은 명령에 의해 신용 차변으로 한 번 사용될 때까지 동일한 블록에서 여러 번 재사용 할 수 있습니다.

초당 많은 수의 트랜잭션을 전송하는 클라이언트는 어떤 지침에서도 신용 차변으로 사용되지 않는 전용 수수료 계정을 사용해야합니다.

계좌 수수료가 신용 직불로 사용되면 잔액 캐시가 재설정 될 때까지 잔액 확인에 실패합니다.
