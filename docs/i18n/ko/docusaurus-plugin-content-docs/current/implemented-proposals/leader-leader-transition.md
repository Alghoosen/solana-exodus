---
title: 리더에서 리더로 전환
---

이 설계는 각 리더가 자체 슬롯을 생성 할 때 리더가 서로 역사증명 원장의 생산을 전환하는 방법을 설명합니다.

## 도전

현재 리더와 다음 리더는 모두 현재 슬롯에 ​​대한 최종 틱을 생성하기 위해 경주하고 있습니다. 다음 리더는 현재 리더의 항목을 처리하는 동안 해당 슬롯에 도착할 수 있습니다.

이상적인 시나리오는 다음 리더가 현재 리더에게 투표 할 수있게 된 직후 자체 슬롯을 생성하는 것입니다. 현재 리더가 전체 블록의 방송을 마치기 전에 다음 리더가 역사증명 슬롯 높이에 도달 할 가능성이 매우 높습니다.

다음 리더는 자신의 블록을 마지막 완료된 블록에 연결하기로 결정하거나 보류중인 블록을 완료 할 때까지 기다려야합니다. 나머지 네트워크가 해당 블록이 성공하는 것을 관찰하더라도 다음 리더는 현재 리더가 실패했음을 제안하는 블록을 생성 할 수 있습니다.

현재 리더는 경제적 보상을 얻기 위해 가능한 한 빨리 슬롯을 시작할 인센티브가 있습니다. 이러한 인센티브는 나머지 네트워크에서 가장 많은 노력을 기울이는 블록에 블록을 연결해야하는 리더의 필요성과 균형을 이루어야합니다.

## 리더 타임 아웃

리더가 이전 슬롯에 대한 항목을 적극적으로 수신하는 동안 리더는 실시간으로 블록의 시작 방송을 지연시킬 수 있습니다. 지연은 각 리더가 로컬로 구성 할 수 있으며 이전 리더의 동작을 기반으로 동적으로 지정할 수 있습니다. 타임 아웃 전에 리더의 TVU에 의해 이전 리더의 블록이 확인되면 역사증명는 슬롯의 시작으로 재설정되고이 리더는 즉시 블록을 생성합니다.

단점 :

- Leader delays its own slot, potentially allowing the next leader more time to

  따라 잡으세요.

-리더는 자신의 슬롯을 지연시켜 잠재적으로 다음 리더가

- All the space in a block is used for entries.
- The timeout is not fixed.
- The timeout is local to the leader, and therefore can be clever. 리더의 휴리스틱은 터빈 성능을 고려할 수 있습니다.
- This design doesn't require a ledger hard fork to update.
- -이전 리더는 블록의 마지막 항목을 다음 리더에게 중복 전송할 수 있으며, 다음 리더는 이전 블록의 검증없이 블록 생성을 신뢰하기로 추측 할 수 있습니다.
- The leader can speculatively generate the last tick from the last received entry.
- -리더는 거래를 투기 적으로 처리하고 이전 리더가 암호화하지 않을 거래를 추측 할 수 있습니다. 이것은 또한 검열 공격 벡터입니다. 현재 리더는 클라이언트로부터받은 트랜잭션을 보류하여 자체 슬롯으로 인코딩 할 수 있습니다. 처리가 완료되면 항목을 역사증명로 빠르게 재생할 수 있습니다.

## 대체 설계 옵션

### 슬롯 끝의 가드 틱

리더는 다음 슬롯의 첫 번째 틱 이전의 마지막 틱인 _penultimate tick_ 이후 블록에 항목을 생성하지 않습니다. 네트워크는 _last tick_에 투표하므로 _penultimate tick_과 _last tick_ 사이의 시간 차이는 새 슬롯이 생성되기 전 다음 리더뿐만 아니라 전체 네트워크에 대한 강제 지연입니다. 네트워크는 _penultimate tick_에서 _last tick_을 생성 할 수 있습니다.

다음 리더가 자체 _first tick_을 생성하기 전에 _penultimate tick_을 받으면 역사증명를 재설정하고 이전 리더의 _penultimate tick_에서 _first tick_을 생성합니다. 나머지 네트워크도 역사증명를 재설정하여 투표 할 ID로 _last tick_을 생성합니다.

단점 :

- -모든 투표 및 이에 따른 확인은 고정 된 시간 초과로 지연됩니다. 1 틱 또는 약 100ms.
- -거래에 대한 평균 케이스 확인 시간은 적어도 50ms 더 나빠질 것입니다.
- It is part of the ledger definition, so to change this behavior would require a hard fork.
- Not all the available space is used for entries.

리더 타임 아웃과 비교 한 장점 :

- -다음 리더는 이전 항목을 모두 수신 했으므로 역사증명에 기록하지 않고 트랜잭션 처리를 시작할 수 있습니다.
- -이전 리더는 _ 두 번째 틱 _이 포함 된 마지막 항목을 다음 리더에게 중복 전송할 수 있습니다. 다음 리더는 _ 두 번째 틱 _을 수신하는 즉시 _ 마지막 틱 _을 검증하기 전에도 추측 적으로 생성 할 수 있습니다.
