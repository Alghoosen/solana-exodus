# These steps are conditionally triggered by ci/buildkite.yml when files
# other than those in docs/ are modified

steps:
  - command: "ci/test-stable-perf.sh"
    name: "stable-perf"
    timeout_in_minutes: 40
    artifact_paths: "log-*.txt"
    agents:
      - "queue=cuda"
  - command: "ci/test-bench.sh"
    name: "bench"
    timeout_in_minutes: 30
  - command: ". ci/rust-version.sh; ci/docker-run.sh $$rust_stable_docker_image ci/test-local-cluster.sh"
    name: "local-cluster"
    timeout_in_minutes: 45
    artifact_paths: "log-*.txt"
  - command: "ci/live-cluster-sanity.sh"
    name: "live-cluster-sanity"
    timeout_in_minutes: 20
    artifact_paths: "*-validator.log"
    agents:
      - "queue=gce-deploy"
